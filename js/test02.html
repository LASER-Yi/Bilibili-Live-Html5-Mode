<!DOCTYPE HTML>

<html>
    <body>
        <script>
            //原生js http请求测试
            var url;
            function m3u8Get(){
                var httpRequest = new XMLHttpRequest();
                if(httpRequest != null){
                    httpRequest.onreadystatechange==false;
                    httpRequest.open("GET",originUrl,false);
                    httpRequest.send(null);
                }
            }
        function jsonpCallback(httpRequest) {
            console.log(httpRequest);
            console.log(httpRequest.durl[0].url);
            url = httpRequest.durl[0].url;
        }
            var roomID = 5420;
            var originUrl = "http://live.bilibili.com/api/h5playurl?roomid=" + roomID + "&callback=jsonpCallback";
            m3u8Get();
        </script>
    </body>
</html>
